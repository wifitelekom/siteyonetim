import{u as k}from"./useAbortOnUnmount-D2zdVzb9.js";import{$ as T,T as w,x as D}from"./main-OjHNd2U9.js";import{a as C,f as h}from"./formatters-BEv4aA23.js";import{m as B}from"./statusHelpers-B7BIhNzn.js";import{j as N,f as A,h as c,D as M,Q as n,R as f,S as a,Z as K,q as o,y as t,O as i,u as s,a8 as v,ad as x,V as _,F as L,ab as O}from"./vendor-DfCbaU-T.js";import{V as g,a as d}from"./VRow-Ba58lXtG.js";import{V as R}from"./VAlert-DafHPFjN.js";import{V as y,a as $}from"./VCard-9RfFlHpT.js";import{V as j}from"./VCardText-YweTyZzP.js";import{V as z}from"./VTable-ByowNMkP.js";import"./vuetify-BWJcAN87.js";import"./VAvatar-BcaC_ZEa.js";const E={class:"d-flex align-center justify-space-between mb-2"},F={class:"text-medium-emphasis mb-0"},I={class:"font-weight-medium"},S={class:"font-weight-medium"},q={class:"font-weight-medium"},H={class:"font-weight-medium"},Q={class:"font-weight-medium"},U={class:"text-h6 text-success"},Y={class:"font-weight-medium"},Z={class:"text-right"},G={key:0},rt=N({__name:"[id]",setup(J){k();const V=K(),b=A(()=>Number(V.params.id)),r=c(!1),u=c(""),l=c(null);return M(async()=>{r.value=!0,u.value="";try{const p=await T(`/receipts/${b.value}`);l.value=p.data}catch(p){u.value=w(p,"Tahsilat detayi alinamadi.")}finally{r.value=!1}}),(p,e)=>(n(),f(g,null,{default:a(()=>[o(d,{cols:"12"},{default:a(()=>[t("div",E,[t("div",null,[e[0]||(e[0]=t("h4",{class:"text-h4 mb-1"}," Tahsilat Detayi ",-1)),t("p",F," Makbuz #"+i(s(l)?.receipt_no??"-"),1)]),o(D,{variant:"outlined",to:"/receipts"},{default:a(()=>[...e[1]||(e[1]=[v(" Listeye Don ",-1)])]),_:1})])]),_:1}),s(u)?(n(),f(d,{key:0,cols:"12"},{default:a(()=>[o(R,{type:"error",variant:"tonal"},{default:a(()=>[v(i(s(u)),1)]),_:1})]),_:1})):x("",!0),o(d,{cols:"12"},{default:a(()=>[o(y,{loading:s(r)},{default:a(()=>[s(l)?(n(),f(j,{key:0},{default:a(()=>[o(g,null,{default:a(()=>[o(d,{cols:"12",md:"4"},{default:a(()=>[e[2]||(e[2]=t("div",{class:"text-caption text-medium-emphasis"},"Makbuz No",-1)),t("div",I,"#"+i(s(l).receipt_no),1)]),_:1}),o(d,{cols:"12",md:"4"},{default:a(()=>[e[3]||(e[3]=t("div",{class:"text-caption text-medium-emphasis"},"Tarih",-1)),t("div",S,i(s(C)(s(l).paid_at)),1)]),_:1}),o(d,{cols:"12",md:"4"},{default:a(()=>[e[4]||(e[4]=t("div",{class:"text-caption text-medium-emphasis"},"Yontem",-1)),t("div",q,i(s(B)(s(l).method)),1)]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[e[5]||(e[5]=t("div",{class:"text-caption text-medium-emphasis"},"Daire",-1)),t("div",H,i(s(l).apartment?.label??"-"),1)]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[e[6]||(e[6]=t("div",{class:"text-caption text-medium-emphasis"},"Kasa/Banka",-1)),t("div",Q,i(s(l).cash_account?.name??"-"),1)]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[e[7]||(e[7]=t("div",{class:"text-caption text-medium-emphasis"},"Toplam Tutar",-1)),t("div",U,i(s(h)(s(l).total_amount)),1)]),_:1}),o(d,{cols:"12",md:"6"},{default:a(()=>[e[8]||(e[8]=t("div",{class:"text-caption text-medium-emphasis"},"Olusturan",-1)),t("div",Y,i(s(l).creator?.name??"-"),1)]),_:1}),o(d,{cols:"12"},{default:a(()=>[e[9]||(e[9]=t("div",{class:"text-caption text-medium-emphasis"},"Aciklama",-1)),t("div",null,i(s(l).description||"-"),1)]),_:1})]),_:1})]),_:1})):x("",!0)]),_:1},8,["loading"])]),_:1}),o(d,{cols:"12"},{default:a(()=>[o(y,{loading:s(r)},{default:a(()=>[o($,{title:"Tahsilat Kalemleri"}),o(z,{density:"comfortable"},{default:a(()=>[e[11]||(e[11]=t("thead",null,[t("tr",null,[t("th",null,"Hesap"),t("th",null,"Donem"),t("th",null,"Aciklama"),t("th",{class:"text-right"},"Tutar")])],-1)),t("tbody",null,[(n(!0),_(L,null,O(s(l)?.items??[],m=>(n(),_("tr",{key:m.id},[t("td",null,i(m.charge?.account?.name??"-"),1),t("td",null,i(m.charge?.period??"-"),1),t("td",null,i(m.charge?.description??"-"),1),t("td",Z,i(s(h)(m.amount)),1)]))),128)),(s(l)?.items??[]).length===0?(n(),_("tr",G,[...e[10]||(e[10]=[t("td",{colspan:"4",class:"text-center text-medium-emphasis py-6"}," Kalem bulunamadi. ",-1)])])):x("",!0)])]),_:1})]),_:1},8,["loading"])]),_:1})]),_:1}))}});export{rt as default};
