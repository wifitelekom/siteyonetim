import{j as K,h,w as V,a0 as N,Q as p,R as _,S as t,q as s,an as k,H as U,u as o,y as i,N as g,V as D,F as w,ab as b,ae as u,a8 as j,O as S,U as y,ad as x}from"./vendor-DfCbaU-T.js";import{C as T}from"./vue3-perfect-scrollbar-CU7ufdA_.js";import{aF as z,p as v}from"./main-OjHNd2U9.js";import{V as E}from"./VCard-9RfFlHpT.js";import{V as L}from"./VCardText-YweTyZzP.js";import{V as M}from"./VTextField-CMxHKe9w.js";import{V as O}from"./VDivider-CUijZXd4.js";import{V as Q,a as q}from"./VList-B1ov9hmg.js";import{V as H}from"./VSkeletonLoader-BHbs6P-f.js";import{V as P}from"./VDialog-BQJ2uzM5.js";import{_ as X}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./vuetify-BWJcAN87.js";import"./VAvatar-BcaC_ZEa.js";const G={class:"d-flex align-center text-high-emphasis me-1"},J={class:"d-flex align-start"},W={class:"h-100"},Y={class:"h-100"},Z={class:"app-bar-search-suggestions d-flex flex-column align-center justify-center text-high-emphasis px-12 pb-12 pt-16"},ee={class:"d-flex align-center flex-wrap justify-center gap-2 text-h5 my-3"},se=K({__name:"AppBarSearch",props:{isDialogVisible:{type:Boolean},searchResults:{},isLoading:{type:Boolean}},emits:["update:isDialogVisible","search"],setup(d,{emit:B}){const r=d,f=B,{ctrl_k:C,meta_k:R}=z({passive:!1,onEventFired(e){e.ctrlKey&&e.key==="k"&&e.type==="keydown"&&e.preventDefault()}}),m=h(),$=h(),a=h("");V([C,R],()=>{f("update:isDialogVisible",!0)});const c=()=>{a.value="",f("update:isDialogVisible",!1)},F=e=>{e.key==="ArrowDown"?(e.preventDefault(),m.value?.focus("next")):e.key==="ArrowUp"&&(e.preventDefault(),m.value?.focus("prev"))},I=e=>{a.value="",f("update:isDialogVisible",e)};return V(()=>r.isDialogVisible,()=>{a.value=""}),(e,n)=>{const A=N("IconBtn");return p(),_(P,{"max-width":"600","model-value":r.isDialogVisible,height:e.$vuetify.display.smAndUp?"537":"100%",fullscreen:e.$vuetify.display.width<600,class:"app-bar-search-dialog","onUpdate:modelValue":I,onKeyup:k(c,["esc"])},{default:t(()=>[s(E,{height:"100%",width:"100%",class:"position-relative"},{default:t(()=>[s(L,{class:"py-3 px-4"},{default:t(()=>[s(M,{ref_key:"refSearchInput",ref:$,modelValue:o(a),"onUpdate:modelValue":[n[0]||(n[0]=l=>U(a)?a.value=l:null),n[1]||(n[1]=l=>e.$emit("search",o(a)))],autofocus:"",density:"compact",variant:"plain",class:"app-bar-search-input",onKeyup:k(c,["esc"]),onKeydown:F},{"prepend-inner":t(()=>[i("div",G,[s(v,{size:"24",icon:"ri-search-line",style:{opacity:"1"}})])]),"append-inner":t(()=>[i("div",J,[i("div",{class:"text-base text-disabled cursor-pointer me-2",onClick:c}," [esc] "),s(A,{class:"mt-n2",color:"medium-emphasis",onClick:c},{default:t(()=>[s(v,{icon:"ri-close-line"})]),_:1})])]),_:1},8,["modelValue"])]),_:1}),s(O),s(o(T),{options:{wheelPropagation:!1,suppressScrollX:!0},class:"h-100"},{default:t(()=>[d.isLoading?x("",!0):g((p(),_(o(Q),{key:0,ref_key:"refSearchList",ref:m,density:"compact",class:"app-bar-search-list py-0"},{default:t(()=>[(p(!0),D(w,null,b(r.searchResults,l=>u(e.$slots,"searchResult",{key:l,item:l},()=>[s(o(q),null,{default:t(()=>[j(S(l),1)]),_:2},1024)],!0)),128))]),_:3},512)),[[y,o(a).length&&!!r.searchResults.length]]),g(i("div",W,[u(e.$slots,"suggestions",{},void 0,!0)],512),[[y,!!r.searchResults&&!o(a)&&e.$slots.suggestions]]),g(i("div",Y,[u(e.$slots,"noData",{},()=>[s(L,{class:"h-100"},{default:t(()=>[i("div",Z,[s(v,{size:"64",icon:"ri-file-forbid-line"}),i("div",ee,[n[2]||(n[2]=i("span",null,"No Result For ",-1)),i("span",null,'"'+S(o(a))+'"',1)]),u(e.$slots,"noDataSuggestion",{},void 0,!0)])]),_:3})],!0)],512),[[y,!r.searchResults.length&&o(a).length]]),d.isLoading?(p(),D(w,{key:1},b(3,l=>s(H,{key:l,type:"list-item-two-line"})),64)):x("",!0)]),_:3})]),_:3})]),_:3},8,["model-value","height","fullscreen"])}}}),he=X(se,[["__scopeId","data-v-f8e09cc8"]]);export{he as default};
