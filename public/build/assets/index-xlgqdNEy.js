import{u as T,i as L}from"./useAbortOnUnmount-D2zdVzb9.js";import{f as M,x as D,$ as U,T as B,aD as z,aE as yt,a6 as bt,aF as St,a7 as nt,y as rt,C as Vt,O as it,D as xt,q as kt,aj as Pt,N as wt,z as Ct,F as dt,G as Dt,ak as Rt,P as It,ah as At,ag as Et}from"./main-Btr01hqQ.js";import{f as b,a as K}from"./formatters-BEv4aA23.js";import{c as Ft,a as Tt,m as ct,t as Lt}from"./statusHelpers-DSGXz7Bq.js";import{a as k,V as O}from"./VRow-CRn_xzm0.js";import{V as E}from"./VTextField-pVQuWnMO.js";import{V as Y}from"./VAlert-R8JWKysv.js";import{V as I}from"./VChip-DOrTqiUh.js";import{V as N}from"./VTable-5XBH4x9y.js";import{j,h as S,r as W,Q as h,V as y,q as o,S as s,u as a,a8 as v,O as t,R as F,ad as C,F as R,y as e,ab as G,w as ut,d as mt,N as pt,U as Mt,I as Z,x as Q,f as X,t as w,p as Ut,D as Bt,H as Yt}from"./vendor-DfCbaU-T.js";import{V as ft}from"./VSelect-DhbvR9Z1.js";import{f as tt,u as et,p as at,e as ot,I as lt,h as jt,j as qt,m as zt,ak as Nt}from"./vuetify-DGZOXKNZ.js";import"./VAvatar-96oJdN2D.js";import"./VList-BYpc2SqC.js";import"./VDivider-DEGojtwS.js";import"./VCheckboxBtn-DaQGgEjM.js";import"./VSelectionControl-ClrOpdq3.js";const Gt={class:"d-flex gap-4 flex-wrap align-center mb-4"},Ot={class:"text-right"},Ht={class:"text-right"},Qt={class:"text-right"},Jt={class:"text-right"},Kt={class:"text-right text-success"},Wt={class:"text-right text-error font-weight-medium"},Xt=j({__name:"ReportChargeList",setup(r){const g=S(!1),u=S(""),d=S(null),{withAbort:_}=T(),{t:V}=M({useScope:"global"}),$=W({period:(n=>{const P=n.getFullYear(),i=String(n.getMonth()+1).padStart(2,"0");return`${P}-${i}`})(new Date)}),p=async()=>{g.value=!0,u.value="";try{const n=await _(P=>U("/reports/charge-list",{query:{period:$.period},signal:P}));d.value=n.data}catch(n){if(L(n))return;u.value=B(n,V("reports.chargeList.error"))}finally{g.value=!1}},m=()=>{const n=new URLSearchParams({period:$.period});window.open(`${z()}/reports/charge-list/pdf?${n.toString()}`,"_blank","noopener")};return(n,P)=>(h(),y("div",null,[o(O,null,{default:s(()=>[o(k,{cols:"12",md:"4"},{default:s(()=>[o(E,{modelValue:a($).period,"onUpdate:modelValue":P[0]||(P[0]=i=>a($).period=i),type:"month",label:n.$t("common.period")},null,8,["modelValue","label"])]),_:1}),o(k,{cols:"12",md:"4",class:"d-flex align-end"},{default:s(()=>[o(D,{color:"primary",block:"",loading:a(g),onClick:p},{default:s(()=>[v(t(n.$t("common.reportFetch")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),a(u)?(h(),F(Y,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:s(()=>[v(t(a(u)),1)]),_:1})):C("",!0),a(d)?(h(),y(R,{key:1},[e("div",Gt,[o(I,{color:"info",variant:"tonal"},{default:s(()=>[v(t(n.$t("common.total"))+": "+t(a(b)(a(d).totals.amount)),1)]),_:1}),o(I,{color:"success",variant:"tonal"},{default:s(()=>[v(t(n.$t("common.paid"))+": "+t(a(b)(a(d).totals.paid)),1)]),_:1}),o(I,{color:"error",variant:"tonal"},{default:s(()=>[v(t(n.$t("common.remaining"))+": "+t(a(b)(a(d).totals.remaining)),1)]),_:1}),o(D,{variant:"outlined","prepend-icon":"ri-download-line",onClick:m},{default:s(()=>[v(t(n.$t("common.pdf")),1)]),_:1})]),o(N,{density:"comfortable"},{default:s(()=>[e("thead",null,[e("tr",null,[e("th",null,t(n.$t("common.apartment")),1),e("th",null,t(n.$t("common.account")),1),e("th",null,t(n.$t("common.period")),1),e("th",null,t(n.$t("common.due")),1),e("th",Ot,t(n.$t("common.amount")),1),e("th",Ht,t(n.$t("common.paid")),1),e("th",Qt,t(n.$t("common.remaining")),1),e("th",null,t(n.$t("common.status")),1)])]),e("tbody",null,[(h(!0),y(R,null,G(a(d).charges,i=>(h(),y("tr",{key:i.id},[e("td",null,t(i.apartment??"-"),1),e("td",null,t(i.account??"-"),1),e("td",null,t(i.period),1),e("td",null,t(a(K)(i.due_date)),1),e("td",Jt,t(a(b)(i.amount)),1),e("td",Kt,t(a(b)(i.paid_amount)),1),e("td",Wt,t(a(b)(i.remaining)),1),e("td",null,[o(I,{size:"small",color:a(Ft)(i.status),variant:"tonal"},{default:s(()=>[v(t(a(Tt)(i.status)),1)]),_:2},1032,["color"])])]))),128))])]),_:1})],64)):C("",!0)]))}}),Zt={class:"d-flex justify-end mb-4"},te={class:"d-flex gap-4 flex-wrap align-center mb-4"},ee={class:"text-right"},ae={class:"text-right"},oe={class:"text-right"},ne={class:"text-right"},le={class:"text-right text-success"},se={class:"text-right text-error font-weight-medium"},re=j({__name:"ReportReceivableStatus",setup(r){const g=S(!1),u=S(""),d=S(null),{withAbort:_}=T(),{t:V}=M({useScope:"global"}),x=async()=>{g.value=!0,u.value="";try{const p=await _(m=>U("/reports/receivable-status",{signal:m}));d.value=p.data}catch(p){if(L(p))return;u.value=B(p,V("reports.receivableStatus.error"))}finally{g.value=!1}},$=()=>{window.open(`${z()}/reports/receivable-status/pdf`,"_blank","noopener")};return(p,m)=>(h(),y("div",null,[e("div",Zt,[o(D,{color:"primary",loading:a(g),onClick:x},{default:s(()=>[v(t(p.$t("common.reportFetch")),1)]),_:1},8,["loading"])]),a(u)?(h(),F(Y,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:s(()=>[v(t(a(u)),1)]),_:1})):C("",!0),a(d)?(h(),y(R,{key:1},[e("div",te,[o(I,{color:"warning",variant:"tonal"},{default:s(()=>[v(t(p.$t("reports.receivableStatus.grandDebt"))+": "+t(a(b)(a(d).grand_total)),1)]),_:1}),o(D,{variant:"outlined","prepend-icon":"ri-download-line",onClick:$},{default:s(()=>[v(t(p.$t("common.pdf")),1)]),_:1})]),o(N,{density:"comfortable"},{default:s(()=>[e("thead",null,[e("tr",null,[e("th",null,t(p.$t("common.vendor")),1),e("th",ee,t(p.$t("common.total")),1),e("th",ae,t(p.$t("common.paid")),1),e("th",oe,t(p.$t("common.remaining")),1)])]),e("tbody",null,[(h(!0),y(R,null,G(a(d).receivables,n=>(h(),y("tr",{key:`recv-${n.vendor}`},[e("td",null,t(n.vendor),1),e("td",ne,t(a(b)(n.total)),1),e("td",le,t(a(b)(n.paid)),1),e("td",se,t(a(b)(n.remaining)),1)]))),128))])]),_:1})],64)):C("",!0)]))}}),ie={class:"d-flex justify-end mb-4"},de={class:"d-flex gap-4 flex-wrap align-center mb-4"},ce={class:"text-right"},ue={class:"text-right"},me={class:"text-right"},pe={class:"text-right"},fe={class:"text-right"},he={class:"text-right text-success"},ge={class:"text-right text-error font-weight-medium"},ve={class:"text-right"},_e=j({__name:"ReportDebtStatus",setup(r){const g=S(!1),u=S(""),d=S(null),{withAbort:_}=T(),{t:V}=M({useScope:"global"}),x=async()=>{g.value=!0,u.value="";try{const p=await _(m=>U("/reports/debt-status",{signal:m}));d.value=p.data}catch(p){if(L(p))return;u.value=B(p,V("reports.debtStatus.error"))}finally{g.value=!1}},$=()=>{window.open(`${z()}/reports/debt-status/pdf`,"_blank","noopener")};return(p,m)=>(h(),y("div",null,[e("div",ie,[o(D,{color:"primary",loading:a(g),onClick:x},{default:s(()=>[v(t(p.$t("common.reportFetch")),1)]),_:1},8,["loading"])]),a(u)?(h(),F(Y,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:s(()=>[v(t(a(u)),1)]),_:1})):C("",!0),a(d)?(h(),y(R,{key:1},[e("div",de,[o(I,{color:"error",variant:"tonal"},{default:s(()=>[v(t(p.$t("reports.debtStatus.grandRemainingDebt"))+": "+t(a(b)(a(d).grand_total)),1)]),_:1}),o(D,{variant:"outlined","prepend-icon":"ri-download-line",onClick:$},{default:s(()=>[v(t(p.$t("common.pdf")),1)]),_:1})]),o(N,{density:"comfortable"},{default:s(()=>[e("thead",null,[e("tr",null,[e("th",null,t(p.$t("common.apartment")),1),e("th",null,t(p.$t("common.resident")),1),e("th",ce,t(p.$t("common.total")),1),e("th",ue,t(p.$t("common.paid")),1),e("th",me,t(p.$t("common.remaining")),1),e("th",pe,t(p.$t("reports.debtStatus.overdue")),1)])]),e("tbody",null,[(h(!0),y(R,null,G(a(d).debts,n=>(h(),y("tr",{key:`debt-${n.apartment}-${n.resident}`},[e("td",null,t(n.apartment),1),e("td",null,t(n.resident),1),e("td",fe,t(a(b)(n.total)),1),e("td",he,t(a(b)(n.paid)),1),e("td",ge,t(a(b)(n.remaining)),1),e("td",ve,t(n.overdue_count),1)]))),128))])]),_:1})],64)):C("",!0)]))}}),$e={class:"d-flex gap-4 flex-wrap align-center mb-4"},ye={class:"text-right"},be={class:"text-right font-weight-medium text-error"},Se=j({__name:"ReportPayments",setup(r){const g=S(!1),u=S(""),d=S(null),{withAbort:_}=T(),{t:V}=M({useScope:"global"}),x=i=>{const l=i.getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),f=String(i.getDate()).padStart(2,"0");return`${l}-${c}-${f}`},$=new Date,p=new Date($.getFullYear(),$.getMonth(),1),m=W({from:x(p),to:x($)}),n=async()=>{g.value=!0,u.value="";try{const i=await _(l=>U("/reports/payments",{query:{from:m.from,to:m.to},signal:l}));d.value=i.data}catch(i){if(L(i))return;u.value=B(i,V("reports.payments.error"))}finally{g.value=!1}},P=()=>{const i=new URLSearchParams({from:m.from,to:m.to});window.open(`${z()}/reports/payments/pdf?${i.toString()}`,"_blank","noopener")};return(i,l)=>(h(),y("div",null,[o(O,null,{default:s(()=>[o(k,{cols:"12",md:"4"},{default:s(()=>[o(E,{modelValue:a(m).from,"onUpdate:modelValue":l[0]||(l[0]=c=>a(m).from=c),type:"date",label:i.$t("common.startDate")},null,8,["modelValue","label"])]),_:1}),o(k,{cols:"12",md:"4"},{default:s(()=>[o(E,{modelValue:a(m).to,"onUpdate:modelValue":l[1]||(l[1]=c=>a(m).to=c),type:"date",label:i.$t("common.endDate")},null,8,["modelValue","label"])]),_:1}),o(k,{cols:"12",md:"4",class:"d-flex align-end"},{default:s(()=>[o(D,{color:"primary",block:"",loading:a(g),onClick:n},{default:s(()=>[v(t(i.$t("common.reportFetch")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),a(u)?(h(),F(Y,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:s(()=>[v(t(a(u)),1)]),_:1})):C("",!0),a(d)?(h(),y(R,{key:1},[e("div",$e,[o(I,{color:"error",variant:"tonal"},{default:s(()=>[v(t(i.$t("reports.payments.totalPayment"))+": "+t(a(b)(a(d).total)),1)]),_:1}),o(D,{variant:"outlined","prepend-icon":"ri-download-line",onClick:P},{default:s(()=>[v(t(i.$t("common.pdf")),1)]),_:1})]),o(N,{density:"comfortable"},{default:s(()=>[e("thead",null,[e("tr",null,[e("th",null,t(i.$t("common.date")),1),e("th",null,t(i.$t("common.vendor")),1),e("th",null,t(i.$t("common.methodAndCash")),1),e("th",ye,t(i.$t("common.amount")),1)])]),e("tbody",null,[(h(!0),y(R,null,G(a(d).payments,c=>(h(),y("tr",{key:c.id},[e("td",null,t(a(K)(c.paid_at)),1),e("td",null,t(c.vendor??"-"),1),e("td",null,t(a(ct)(c.method))+" / "+t(c.cash_account??"-"),1),e("td",be,t(a(b)(c.total_amount)),1)]))),128))])]),_:1})],64)):C("",!0)]))}}),Ve={class:"d-flex gap-4 flex-wrap align-center mb-4"},xe={class:"text-right"},ke={class:"text-right font-weight-medium text-success"},Pe=j({__name:"ReportCollections",setup(r){const g=S(!1),u=S(""),d=S(null),{withAbort:_}=T(),{t:V}=M({useScope:"global"}),x=i=>{const l=i.getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),f=String(i.getDate()).padStart(2,"0");return`${l}-${c}-${f}`},$=new Date,p=new Date($.getFullYear(),$.getMonth(),1),m=W({from:x(p),to:x($)}),n=async()=>{g.value=!0,u.value="";try{const i=await _(l=>U("/reports/collections",{query:{from:m.from,to:m.to},signal:l}));d.value=i.data}catch(i){if(L(i))return;u.value=B(i,V("reports.collections.error"))}finally{g.value=!1}},P=()=>{const i=new URLSearchParams({from:m.from,to:m.to});window.open(`${z()}/reports/collections/pdf?${i.toString()}`,"_blank","noopener")};return(i,l)=>(h(),y("div",null,[o(O,null,{default:s(()=>[o(k,{cols:"12",md:"4"},{default:s(()=>[o(E,{modelValue:a(m).from,"onUpdate:modelValue":l[0]||(l[0]=c=>a(m).from=c),type:"date",label:i.$t("common.startDate")},null,8,["modelValue","label"])]),_:1}),o(k,{cols:"12",md:"4"},{default:s(()=>[o(E,{modelValue:a(m).to,"onUpdate:modelValue":l[1]||(l[1]=c=>a(m).to=c),type:"date",label:i.$t("common.endDate")},null,8,["modelValue","label"])]),_:1}),o(k,{cols:"12",md:"4",class:"d-flex align-end"},{default:s(()=>[o(D,{color:"primary",block:"",loading:a(g),onClick:n},{default:s(()=>[v(t(i.$t("common.reportFetch")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),a(u)?(h(),F(Y,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:s(()=>[v(t(a(u)),1)]),_:1})):C("",!0),a(d)?(h(),y(R,{key:1},[e("div",Ve,[o(I,{color:"success",variant:"tonal"},{default:s(()=>[v(t(i.$t("reports.collections.totalCollection"))+": "+t(a(b)(a(d).total)),1)]),_:1}),o(D,{variant:"outlined","prepend-icon":"ri-download-line",onClick:P},{default:s(()=>[v(t(i.$t("common.pdf")),1)]),_:1})]),o(N,{density:"comfortable"},{default:s(()=>[e("thead",null,[e("tr",null,[e("th",null,t(i.$t("reports.collections.receipt")),1),e("th",null,t(i.$t("common.date")),1),e("th",null,t(i.$t("common.apartment")),1),e("th",null,t(i.$t("common.methodAndCash")),1),e("th",xe,t(i.$t("common.amount")),1)])]),e("tbody",null,[(h(!0),y(R,null,G(a(d).receipts,c=>(h(),y("tr",{key:c.id},[e("td",null,"#"+t(c.receipt_no),1),e("td",null,t(a(K)(c.paid_at)),1),e("td",null,t(c.apartment??"-"),1),e("td",null,t(a(ct)(c.method))+" / "+t(c.cash_account??"-"),1),e("td",ke,t(a(b)(c.total_amount)),1)]))),128))])]),_:1})],64)):C("",!0)]))}}),we={class:"d-flex gap-4 flex-wrap align-center mb-4"},Ce={class:"text-right"},De={class:"text-right font-weight-medium"},Re=j({__name:"ReportAccountStatement",props:{accounts:{},metaLoading:{type:Boolean,default:!1}},setup(r){const g=r,u=S(!1),d=S(""),_=S(null),{withAbort:V}=T(),{t:x}=M({useScope:"global"}),$=l=>{const c=l.getFullYear(),f=String(l.getMonth()+1).padStart(2,"0"),H=String(l.getDate()).padStart(2,"0");return`${c}-${f}-${H}`},p=new Date,m=new Date(p.getFullYear(),p.getMonth(),1),n=W({account_id:null,from:$(m),to:$(p)});ut(()=>g.accounts,l=>{if(l.length===0){n.account_id=null;return}l.some(c=>c.id===n.account_id)||(n.account_id=l[0].id)},{immediate:!0});const P=async()=>{if(n.account_id){u.value=!0,d.value="";try{const l=await V(c=>U("/reports/account-statement",{query:{account_id:n.account_id,from:n.from,to:n.to},signal:c}));_.value=l.data}catch(l){if(L(l))return;d.value=B(l,x("reports.accountStatement.error"))}finally{u.value=!1}}},i=()=>{if(!n.account_id)return;const l=new URLSearchParams({account_id:String(n.account_id),from:n.from,to:n.to});window.open(`${z()}/reports/account-statement/pdf?${l.toString()}`,"_blank","noopener")};return(l,c)=>(h(),y("div",null,[o(O,null,{default:s(()=>[o(k,{cols:"12",md:"3"},{default:s(()=>[o(ft,{modelValue:a(n).account_id,"onUpdate:modelValue":c[0]||(c[0]=f=>a(n).account_id=f),items:r.accounts,"item-title":"full_name","item-value":"id",label:l.$t("reports.accountStatement.accountingAccount"),loading:r.metaLoading},null,8,["modelValue","items","label","loading"])]),_:1}),o(k,{cols:"12",md:"3"},{default:s(()=>[o(E,{modelValue:a(n).from,"onUpdate:modelValue":c[1]||(c[1]=f=>a(n).from=f),type:"date",label:l.$t("common.startDate")},null,8,["modelValue","label"])]),_:1}),o(k,{cols:"12",md:"3"},{default:s(()=>[o(E,{modelValue:a(n).to,"onUpdate:modelValue":c[2]||(c[2]=f=>a(n).to=f),type:"date",label:l.$t("common.endDate")},null,8,["modelValue","label"])]),_:1}),o(k,{cols:"12",md:"3",class:"d-flex align-end"},{default:s(()=>[o(D,{color:"primary",block:"",loading:a(u),onClick:P},{default:s(()=>[v(t(l.$t("common.reportFetch")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),a(d)?(h(),F(Y,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:s(()=>[v(t(a(d)),1)]),_:1})):C("",!0),a(_)?(h(),y(R,{key:1},[e("div",we,[o(I,{color:"info",variant:"tonal"},{default:s(()=>[v(t(l.$t("reports.accountStatement.totalCharges"))+": "+t(a(b)(a(_).totals.charges)),1)]),_:1}),o(I,{color:"error",variant:"tonal"},{default:s(()=>[v(t(l.$t("reports.accountStatement.totalExpense"))+": "+t(a(b)(a(_).totals.expenses)),1)]),_:1}),o(D,{variant:"outlined","prepend-icon":"ri-download-line",onClick:i},{default:s(()=>[v(t(l.$t("common.pdf")),1)]),_:1})]),o(N,{density:"comfortable"},{default:s(()=>[e("thead",null,[e("tr",null,[e("th",null,t(l.$t("common.date")),1),e("th",null,t(l.$t("common.type")),1),e("th",null,t(l.$t("common.description")),1),e("th",Ce,t(l.$t("common.amount")),1)])]),e("tbody",null,[(h(!0),y(R,null,G(a(_).rows,f=>(h(),y("tr",{key:`acct-${f.date}-${f.type}-${f.amount}`},[e("td",null,t(a(K)(f.date)),1),e("td",null,[o(I,{size:"small",color:f.type==="charge"?"info":"error",variant:"tonal"},{default:s(()=>[v(t(a(Lt)(f.type)),1)]),_:2},1032,["color"])]),e("td",null,t(f.description),1),e("td",De,t(a(b)(f.amount)),1)]))),128))])]),_:1})],64)):C("",!0)]))}}),Ie={class:"d-flex gap-4 flex-wrap align-center mb-4"},Ae={class:"text-right"},Ee={class:"text-right"},Fe={class:"text-right"},Te={class:"text-right text-success"},Le={class:"text-right text-error"},Me={class:"text-right font-weight-medium"},Ue=j({__name:"ReportCashStatement",props:{cashAccounts:{},metaLoading:{type:Boolean,default:!1}},setup(r){const g=r,u=S(!1),d=S(""),_=S(null),{withAbort:V}=T(),{t:x}=M({useScope:"global"}),$=l=>{const c=l.getFullYear(),f=String(l.getMonth()+1).padStart(2,"0"),H=String(l.getDate()).padStart(2,"0");return`${c}-${f}-${H}`},p=new Date,m=new Date(p.getFullYear(),p.getMonth(),1),n=W({cash_account_id:null,from:$(m),to:$(p)});ut(()=>g.cashAccounts,l=>{if(l.length===0){n.cash_account_id=null;return}l.some(c=>c.id===n.cash_account_id)||(n.cash_account_id=l[0].id)},{immediate:!0});const P=async()=>{if(n.cash_account_id){u.value=!0,d.value="";try{const l=await V(c=>U("/reports/cash-statement",{query:{cash_account_id:n.cash_account_id,from:n.from,to:n.to},signal:c}));_.value=l.data}catch(l){if(L(l))return;d.value=B(l,x("reports.cashStatement.error"))}finally{u.value=!1}}},i=()=>{if(!n.cash_account_id)return;const l=new URLSearchParams({cash_account_id:String(n.cash_account_id),from:n.from,to:n.to});window.open(`${z()}/reports/cash-statement/pdf?${l.toString()}`,"_blank","noopener")};return(l,c)=>(h(),y("div",null,[o(O,null,{default:s(()=>[o(k,{cols:"12",md:"3"},{default:s(()=>[o(ft,{modelValue:a(n).cash_account_id,"onUpdate:modelValue":c[0]||(c[0]=f=>a(n).cash_account_id=f),items:r.cashAccounts,"item-title":"name","item-value":"id",label:l.$t("reports.cashStatement.cashAccount"),loading:r.metaLoading},null,8,["modelValue","items","label","loading"])]),_:1}),o(k,{cols:"12",md:"3"},{default:s(()=>[o(E,{modelValue:a(n).from,"onUpdate:modelValue":c[1]||(c[1]=f=>a(n).from=f),type:"date",label:l.$t("common.startDate")},null,8,["modelValue","label"])]),_:1}),o(k,{cols:"12",md:"3"},{default:s(()=>[o(E,{modelValue:a(n).to,"onUpdate:modelValue":c[2]||(c[2]=f=>a(n).to=f),type:"date",label:l.$t("common.endDate")},null,8,["modelValue","label"])]),_:1}),o(k,{cols:"12",md:"3",class:"d-flex align-end"},{default:s(()=>[o(D,{color:"primary",block:"",loading:a(u),onClick:P},{default:s(()=>[v(t(l.$t("common.reportFetch")),1)]),_:1},8,["loading"])]),_:1})]),_:1}),a(d)?(h(),F(Y,{key:0,type:"error",variant:"tonal",class:"mb-4"},{default:s(()=>[v(t(a(d)),1)]),_:1})):C("",!0),a(_)?(h(),y(R,{key:1},[e("div",Ie,[o(I,{color:"primary",variant:"tonal"},{default:s(()=>[v(t(l.$t("reports.cashStatement.opening"))+": "+t(a(b)(a(_).opening_balance)),1)]),_:1}),o(I,{color:"success",variant:"tonal"},{default:s(()=>[v(t(l.$t("reports.cashStatement.closing"))+": "+t(a(b)(a(_).closing_balance)),1)]),_:1}),o(D,{variant:"outlined","prepend-icon":"ri-download-line",onClick:i},{default:s(()=>[v(t(l.$t("common.pdf")),1)]),_:1})]),o(N,{density:"comfortable"},{default:s(()=>[e("thead",null,[e("tr",null,[e("th",null,t(l.$t("common.date")),1),e("th",null,t(l.$t("common.description")),1),e("th",Ae,t(l.$t("reports.cashStatement.inflow")),1),e("th",Ee,t(l.$t("reports.cashStatement.outflow")),1),e("th",Fe,t(l.$t("reports.cashStatement.balance")),1)])]),e("tbody",null,[(h(!0),y(R,null,G(a(_).transactions,f=>(h(),y("tr",{key:`cash-${f.date}-${f.description}-${f.amount}`},[e("td",null,t(a(K)(f.date)),1),e("td",null,t(f.description),1),e("td",Te,t(f.direction==="in"?a(b)(f.amount):"-"),1),e("td",Le,t(f.direction==="out"?a(b)(f.amount):"-"),1),e("td",Me,t(a(b)(f.balance)),1)]))),128))])]),_:1})],64)):C("",!0)]))}}),J=Symbol.for("vuetify:v-expansion-panel"),ht=at({...ot(),...St()},"VExpansionPanelText"),A=tt()({name:"VExpansionPanelText",props:ht(),setup(r,g){let{slots:u}=g;const d=mt(J);if(!d)throw new Error("[Vuetify] v-expansion-panel-text needs to be placed inside v-expansion-panel");const{hasContent:_,onAfterLeave:V}=yt(r,d.isSelected);return et(()=>o(bt,{onAfterLeave:V},{default:()=>[pt(e("div",{class:Q(["v-expansion-panel-text",r.class]),style:Z(r.style)},[u.default&&_.value&&e("div",{class:"v-expansion-panel-text__wrapper"},[u.default?.()])]),[[Mt,d.isSelected.value]])]})),{}}}),gt=at({color:String,expandIcon:{type:lt,default:"$expand"},collapseIcon:{type:lt,default:"$collapse"},hideActions:Boolean,focusable:Boolean,static:Boolean,ripple:{type:[Boolean,Object],default:!1},readonly:Boolean,...ot(),...xt()},"VExpansionPanelTitle"),st=tt()({name:"VExpansionPanelTitle",directives:{vRipple:nt},props:gt(),setup(r,g){let{slots:u}=g;const d=mt(J);if(!d)throw new Error("[Vuetify] v-expansion-panel-title needs to be placed inside v-expansion-panel");const{backgroundColorClasses:_,backgroundColorStyles:V}=rt(()=>r.color),{dimensionStyles:x}=Vt(r),$=X(()=>({collapseIcon:r.collapseIcon,disabled:d.disabled.value,expanded:d.isSelected.value,expandIcon:r.expandIcon,readonly:r.readonly})),p=w(()=>d.isSelected.value?r.collapseIcon:r.expandIcon);return et(()=>pt(e("button",{class:Q(["v-expansion-panel-title",{"v-expansion-panel-title--active":d.isSelected.value,"v-expansion-panel-title--focusable":r.focusable,"v-expansion-panel-title--static":r.static},_.value,r.class]),style:Z([V.value,x.value,r.style]),type:"button",tabindex:d.disabled.value?-1:void 0,disabled:d.disabled.value,"aria-expanded":d.isSelected.value,onClick:r.readonly?void 0:d.toggle},[e("span",{class:"v-expansion-panel-title__overlay"},null),u.default?.($.value),!r.hideActions&&o(it,{defaults:{VIcon:{icon:p.value}}},{default:()=>[e("span",{class:"v-expansion-panel-title__icon"},[u.actions?.($.value)??o(kt,null,null)])]})]),[[nt,r.ripple]])),{}}}),vt=at({title:String,text:String,bgColor:String,...It(),...Rt(),...Dt(),...dt(),...gt(),...ht()},"VExpansionPanel"),q=tt()({name:"VExpansionPanel",props:vt(),emits:{"group:selected":r=>!0},setup(r,g){let{slots:u}=g;const d=Pt(r,J),{backgroundColorClasses:_,backgroundColorStyles:V}=rt(()=>r.bgColor),{elevationClasses:x}=wt(r),{roundedClasses:$}=Ct(r),p=w(()=>d?.disabled.value||r.disabled),m=X(()=>d.group.items.value.reduce((i,l,c)=>(d.group.selected.value.includes(l.id)&&i.push(c),i),[])),n=X(()=>{const i=d.group.items.value.findIndex(l=>l.id===d.id);return!d.isSelected.value&&m.value.some(l=>l-i===1)}),P=X(()=>{const i=d.group.items.value.findIndex(l=>l.id===d.id);return!d.isSelected.value&&m.value.some(l=>l-i===-1)});return Ut(J,d),et(()=>{const i=!!(u.text||r.text),l=!!(u.title||r.title),c=st.filterProps(r),f=A.filterProps(r);return o(r.tag,{class:Q(["v-expansion-panel",{"v-expansion-panel--active":d.isSelected.value,"v-expansion-panel--before-active":n.value,"v-expansion-panel--after-active":P.value,"v-expansion-panel--disabled":p.value},$.value,_.value,r.class]),style:Z([V.value,r.style])},{default:()=>[e("div",{class:Q(["v-expansion-panel__shadow",...x.value])},null),o(it,{defaults:{VExpansionPanelTitle:{...c},VExpansionPanelText:{...f}}},{default:()=>[l&&o(st,{key:"title"},{default:()=>[u.title?u.title():r.title]}),i&&o(A,{key:"text"},{default:()=>[u.text?u.text():r.text]}),u.default?.()]})]})}),{groupItem:d}}}),Be=["default","accordion","inset","popout"],Ye=at({flat:Boolean,...Et(),...Nt(vt(),["bgColor","collapseIcon","color","eager","elevation","expandIcon","focusable","hideActions","readonly","ripple","rounded","tile","static"]),...zt(),...ot(),...dt(),variant:{type:String,default:"default",validator:r=>Be.includes(r)}},"VExpansionPanels"),je=tt()({name:"VExpansionPanels",props:Ye(),emits:{"update:modelValue":r=>!0},setup(r,g){let{slots:u}=g;const{next:d,prev:_}=At(r,J),{themeClasses:V}=jt(r),x=w(()=>r.variant&&`v-expansion-panels--variant-${r.variant}`);return qt({VExpansionPanel:{bgColor:w(()=>r.bgColor),collapseIcon:w(()=>r.collapseIcon),color:w(()=>r.color),eager:w(()=>r.eager),elevation:w(()=>r.elevation),expandIcon:w(()=>r.expandIcon),focusable:w(()=>r.focusable),hideActions:w(()=>r.hideActions),readonly:w(()=>r.readonly),ripple:w(()=>r.ripple),rounded:w(()=>r.rounded),static:w(()=>r.static)}}),et(()=>o(r.tag,{class:Q(["v-expansion-panels",{"v-expansion-panels--flat":r.flat,"v-expansion-panels--tile":r.tile},V.value,x.value,r.class]),style:Z(r.style)},{default:()=>[u.default?.({prev:_,next:d})]})),{next:d,prev:_}}}),qe={class:"d-flex align-center justify-space-between mb-2"},ze={class:"text-h4 mb-1"},Ne={class:"text-medium-emphasis mb-0"},ia=j({__name:"index",setup(r){const g=S([0]),u=S(!1),d=S(""),{t:_}=M({useScope:"global"}),V=S([]),x=S([]),{withAbort:$}=T();return Bt(async()=>{u.value=!0,d.value="";try{const m=await $(n=>U("/reports/meta",{signal:n}));V.value=m.data.cash_accounts,x.value=m.data.accounts}catch(m){if(L(m))return;d.value=B(m,_("reports.page.errors.metaLoadFailed"))}finally{u.value=!1}}),(m,n)=>{const P=Ue,i=Re,l=Pe,c=Se,f=_e,H=re,_t=Xt;return h(),F(O,null,{default:s(()=>[o(k,{cols:"12"},{default:s(()=>[e("div",qe,[e("div",null,[e("h4",ze,t(m.$t("reports.page.title")),1),e("p",Ne,t(m.$t("reports.page.subtitle")),1)])])]),_:1}),a(d)?(h(),F(k,{key:0,cols:"12"},{default:s(()=>[o(Y,{type:"error",variant:"tonal"},{default:s(()=>[v(t(a(d)),1)]),_:1})]),_:1})):C("",!0),o(k,{cols:"12"},{default:s(()=>[o(je,{modelValue:a(g),"onUpdate:modelValue":n[0]||(n[0]=$t=>Yt(g)?g.value=$t:null),multiple:""},{default:s(()=>[o(q,{title:m.$t("reports.page.panels.cashStatement")},{default:s(()=>[o(A,null,{default:s(()=>[o(P,{"cash-accounts":a(V),"meta-loading":a(u)},null,8,["cash-accounts","meta-loading"])]),_:1})]),_:1},8,["title"]),o(q,{title:m.$t("reports.page.panels.accountStatement")},{default:s(()=>[o(A,null,{default:s(()=>[o(i,{accounts:a(x),"meta-loading":a(u)},null,8,["accounts","meta-loading"])]),_:1})]),_:1},8,["title"]),o(q,{title:m.$t("reports.page.panels.collectionReport")},{default:s(()=>[o(A,null,{default:s(()=>[o(l)]),_:1})]),_:1},8,["title"]),o(q,{title:m.$t("reports.page.panels.paymentReport")},{default:s(()=>[o(A,null,{default:s(()=>[o(c)]),_:1})]),_:1},8,["title"]),o(q,{title:m.$t("reports.page.panels.debtStatus")},{default:s(()=>[o(A,null,{default:s(()=>[o(f)]),_:1})]),_:1},8,["title"]),o(q,{title:m.$t("reports.page.panels.receivableStatus")},{default:s(()=>[o(A,null,{default:s(()=>[o(H)]),_:1})]),_:1},8,["title"]),o(q,{title:m.$t("reports.page.panels.chargeList")},{default:s(()=>[o(A,null,{default:s(()=>[o(_t)]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])]),_:1})]),_:1})}}});export{ia as default};
