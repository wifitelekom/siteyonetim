import{j as Rl,f as Ne,h as d,D as zl,Q as r,V as g,q as t,S as a,H as j,u as l,F as S,Z as Ol,y as i,O as u,a8 as o,R as y,ad as v,ab as G,N as ue,U as de,x as Ze,v as Il,ag as Je}from"./vendor-qaEqcc9M.js";import{e as hl,$ as V,T as $,Y as Ll,x as b,q as N,r as Fl,V as we,aH as Nl,U as me}from"./main-DUODoQpR.js";import{a as H,f as B}from"./formatters-BEv4aA23.js";import{u as Hl,i as te}from"./useAbortOnUnmount-B_TyPYrd.js";import{V as Xe,r as C,p as el,e as Pl,a as Kl,m as Ml,b as Yl}from"./VForm-AfrkaUJk.js";import{V as O,a as m}from"./VRow-dBMGxjTF.js";import{V as xe}from"./VDialog-8MtGyTgn.js";import{V as ll}from"./VAlert-DIbLZTVg.js";import{V as P,a as ql,d as De}from"./VCard-DEMyauu_.js";import{V as A}from"./VCardText-lEnvPJxp.js";import{V as $e,a as w,b as U,d as jl}from"./VList-BpKoOtV6.js";import{V as pe}from"./VChip-CzUAJTHl.js";import{V as Gl,a as fe}from"./VTabs-zJODQ6kc.js";import{V as ve}from"./VDivider-CiCMqi-4.js";import{V as ce}from"./VTable-CDiDVqFm.js";import{V as He}from"./VTextarea-BWwjO-LJ.js";import{V as Ql}from"./VCheckbox-tAy4A4xc.js";import{V as x}from"./VTextField-BgtisBQp.js";import{V as K}from"./VSelect-BpDYXa0x.js";import"./vuetify-CYvz9UpR.js";import"./VAvatar-DfdxhEHH.js";import"./VCheckboxBtn-B_mUIJHa.js";import"./VSelectionControl-DtdcpgRj.js";const Wl={class:"d-flex align-center justify-space-between mb-2"},Zl={class:"text-medium-emphasis mb-0"},Jl={class:"d-flex gap-2"},Xl={class:"font-weight-medium"},et={class:"d-flex gap-1 flex-wrap"},lt={class:"d-flex align-center gap-2"},tt={class:"text-right",style:{"max-inline-size":"250px"}},at={key:0,class:"text-caption text-medium-emphasis"},st={class:"text-right"},nt={class:"text-right font-weight-medium"},it={key:0},ot={key:0},rt={key:1},ut={class:"text-right"},dt={key:2},mt={key:0,class:"text-caption text-medium-emphasis"},pt={class:"text-right"},ft={key:3},vt={class:"text-h6"},ct={class:"text-h6"},kt={class:"font-weight-medium"},gt={class:"text-right text-error"},yt={class:"text-right text-success"},bt={class:"text-right font-weight-medium"},_t={key:0},Vt={class:"text-success"},wt={class:"text-error"},xt={class:"text-right"},Dt={key:0},Wt=Rl({__name:"[id]",setup($t){const tl=hl(),al=Ol(),_=Ne(()=>Number(al.params.id)),{withAbort:Q}=Hl(),Ae=d(!1),k=d(""),ae=d(""),I=d("debts"),c=d(!0),Ue=Ne(()=>tl.can("users.manage")),sl={ilkokul:"Ilkokul",ortaokul:"Ortaokul",lise:"Lise",onlisans:"On Lisans",lisans:"Lisans",yuksek_lisans:"Yuksek Lisans",doktora:"Doktora"},f=d(null),ke=d([]),Ee=d([]),Ce=d([]),Pe=d(!1),h=d(null),W=d({from:new Date(new Date().getFullYear(),0,1).toISOString().slice(0,10),to:new Date().toISOString().slice(0,10)}),M=d(""),Te=d(!1),Z=d(!1),L=d({title:"",description:"",due_date:""}),Se=d(!1),ge=d({}),J=d(!1),R=d({apartment_id:null,amount:null,due_date:new Date().toISOString().slice(0,10),description:""}),Be=d(!1),se=d({}),X=d(!1),z=d({source_apartment_id:null,target_apartment_id:null,amount:null,description:""}),Re=d(!1),ne=d({}),ye=d(!1),ze=d(!1),Ke=d(null),Oe=d(!1),Ie=Ne(()=>f.value?.apartments.map(n=>({id:n.id,label:n.label}))??[]),nl=[{value:"",label:"Seciniz"},{value:"ilkokul",label:"Ilkokul"},{value:"ortaokul",label:"Ortaokul"},{value:"lise",label:"Lise"},{value:"onlisans",label:"On Lisans"},{value:"lisans",label:"Lisans"},{value:"yuksek_lisans",label:"Yuksek Lisans"},{value:"doktora",label:"Doktora"}],ee=d(!1),ie=d(!1),oe=d(!1),E=d({}),Me=d([]),re=d([]),Ye=d([]),he=d([]),be=d(!1),Y=d(null),q=d(null),le=d({}),p=d({name:"",email:"",phone:"",tc_kimlik:"",address:"",birth_date:"",occupation:"",education:"",password:"",password_confirmation:"",role:"owner"}),qe=d(null),T=d({apartment_id:null,relation_type:"owner",start_date:new Date().toISOString().slice(0,10)}),je=d(null),il=[C()],ol=[C(),Pl()],rl=[n=>typeof n!="string"||n.length===0?!0:Kl(11)(n)],ul=[n=>typeof n!="string"||n.length===0?!0:Ml(8)(n)],dl=[n=>p.value.password?C("Sifre tekrar zorunludur.")(n):!0,n=>p.value.password?Yl(()=>p.value.password,"Sifreler eslesmiyor.")(n):!0],ml=[C()],pl=[C()],fl=[C()],vl=n=>{if(Ll(n)!==404)return!1;const e=$(n,"").toLowerCase();return e.includes("route")&&e.includes("residents")},cl=n=>{f.value={id:n.id,name:n.name,email:n.email,phone:n.phone,tc_kimlik:n.tc_kimlik,address:n.address,birth_date:n.birth_date,occupation:n.occupation,education:n.education,role:n.role,role_label:n.role_label,roles:n.roles,apartments:(n.apartments??[]).map(e=>({id:e.id,label:e.label,relation_type:e.relation_type??"",relation_label:e.relation_label,start_date:e.start_date})),apartment_count:n.apartment_count??n.apartments?.length??0,balance:0,total_charged:0,total_paid:0,open_charges:[],archived_at:null}},F=async()=>{Ae.value=!0,k.value="";try{const n=await Q(e=>V(`/residents/${_.value}`,{signal:e}));c.value=!0,ae.value="",f.value=n.data}catch(n){if(te(n))return;if(vl(n))try{const e=await Q(s=>V(`/users/${_.value}`,{signal:s}));c.value=!1,ae.value="Bu sunucuda /residents API routeu bulunmuyor. Temel kullanici bilgileri gosteriliyor.",cl(e.data);return}catch(e){if(te(e))return;k.value=$(e,"Kullanici detayi alinamadi.");return}k.value=$(n,"Sakin detayi alinamadi.")}finally{Ae.value=!1}},Le=async()=>{if(c.value)try{const n=await Q(e=>V(`/residents/${_.value}/notes`,{signal:e}));ke.value=n.data}catch(n){if(te(n))return}},Fe=async()=>{if(c.value)try{const n=await Q(e=>V(`/residents/${_.value}/documents`,{signal:e}));Ee.value=n.data}catch(n){if(te(n))return}},_e=async()=>{if(c.value)try{const n=await Q(e=>V(`/residents/${_.value}/reminders`,{signal:e}));Ce.value=n.data}catch(n){if(te(n))return}},Ge=async()=>{if(c.value){Pe.value=!0;try{const n=await Q(e=>V(`/residents/${_.value}/statement`,{query:{from:W.value.from,to:W.value.to},signal:e}));h.value=n.data}catch(n){if(te(n))return}finally{Pe.value=!1}}},kl=async()=>{if(c.value&&M.value.trim()){Te.value=!0;try{await V(`/residents/${_.value}/notes`,{method:"POST",body:{content:M.value}}),M.value="",await Le()}catch(n){k.value=$(n,"Not eklenemedi.")}finally{Te.value=!1}}},gl=async n=>{if(c.value)try{await V(`/residents/${_.value}/notes/${n}`,{method:"DELETE"}),await Le()}catch(e){k.value=$(e,"Not silinemedi.")}},yl=()=>Ke.value?.click(),bl=async n=>{if(!c.value)return;const e=n.target,s=e.files?.[0];if(s){ze.value=!0;try{const D=new FormData;D.append("file",s),await V(`/residents/${_.value}/documents`,{method:"POST",body:D}),await Fe()}catch(D){k.value=$(D,"Evrak yuklenemedi.")}finally{ze.value=!1,e.value=""}}},_l=n=>{c.value&&window.open(`${Nl()}/residents/${_.value}/documents/${n}/download`,"_blank")},Vl=async n=>{if(c.value)try{await V(`/residents/${_.value}/documents/${n}`,{method:"DELETE"}),await Fe()}catch(e){k.value=$(e,"Evrak silinemedi.")}},wl=async()=>{if(c.value){Se.value=!0,ge.value={};try{await V(`/residents/${_.value}/reminders`,{method:"POST",body:L.value}),Z.value=!1,L.value={title:"",description:"",due_date:""},await _e()}catch(n){k.value=$(n,"Hatirlatma eklenemedi."),ge.value=me(n)}finally{Se.value=!1}}},xl=async n=>{if(c.value)try{await V(`/residents/${_.value}/reminders/${n.id}`,{method:"PUT",body:{completed:!n.is_completed}}),await _e()}catch(e){k.value=$(e,"Hatirlatma guncellenemedi.")}},Dl=async n=>{if(c.value)try{await V(`/residents/${_.value}/reminders/${n}`,{method:"DELETE"}),await _e()}catch(e){k.value=$(e,"Hatirlatma silinemedi.")}},$l=async()=>{if(c.value){Be.value=!0,se.value={};try{await V(`/residents/${_.value}/opening-balance`,{method:"POST",body:R.value}),J.value=!1,R.value={apartment_id:null,amount:null,due_date:new Date().toISOString().slice(0,10),description:""},await F()}catch(n){k.value=$(n,"Acilis bakiyesi eklenemedi."),se.value=me(n)}finally{Be.value=!1}}},Al=async()=>{if(c.value){Re.value=!0,ne.value={};try{await V("/residents/transfer-debt",{method:"POST",body:z.value}),X.value=!1,z.value={source_apartment_id:null,target_apartment_id:null,amount:null,description:""},await F()}catch(n){k.value=$(n,"Borc aktarma basarisiz."),ne.value=me(n)}finally{Re.value=!1}}},Ul=async()=>{if(c.value){Oe.value=!0;try{const n=f.value?.archived_at?"unarchive":"archive";await V(`/residents/${_.value}/${n}`,{method:"PUT"}),await F()}catch(n){k.value=$(n,"Islem basarisiz.")}finally{Oe.value=!1}}},El=n=>{p.value={name:n.name,email:n.email??"",phone:n.phone??"",tc_kimlik:n.tc_kimlik??"",address:n.address??"",birth_date:n.birth_date??"",occupation:n.occupation??"",education:n.education??"",password:"",password_confirmation:"",role:n.role??"owner"},he.value=n.apartments.map(e=>({id:e.id,label:e.label,relation_type:e.relation_type,relation_label:e.relation_label,start_date:e.start_date??"",end_date:e.end_date}))},Ve=async()=>{ie.value=!0,E.value={},le.value={};try{const n=await V(`/users/${_.value}`);El(n.data),Me.value=n.meta.roles,re.value=n.meta.relation_types,Ye.value=n.meta.available_apartments,re.value.some(e=>e.value===T.value.relation_type)||(T.value.relation_type=re.value[0]?.value??"owner")}catch(n){throw k.value=$(n,"Kullanici duzenleme verileri alinamadi."),n}finally{ie.value=!1}},Qe=async()=>{if(ye.value=!1,!Ue.value){k.value="Bu islem icin kullanici yonetimi yetkisi gerekiyor.";return}try{await Ve(),ee.value=!0}catch{}},We=async()=>{if(!(await qe.value?.validate())?.valid)return;oe.value=!0,E.value={},k.value="";const e={name:p.value.name,email:p.value.email,phone:p.value.phone||null,tc_kimlik:p.value.tc_kimlik||null,address:p.value.address||null,birth_date:p.value.birth_date||null,occupation:p.value.occupation||null,education:p.value.education||null,role:p.value.role};p.value.password&&(e.password=p.value.password,e.password_confirmation=p.value.password_confirmation);try{await V(`/users/${_.value}`,{method:"PUT",body:e}),ee.value=!1,await F()}catch(s){k.value=$(s,"Kullanici guncellenemedi."),E.value=me(s)}finally{oe.value=!1}},Cl=async()=>{if((await je.value?.validate())?.valid){be.value=!0,le.value={},k.value="";try{await V(`/users/${_.value}/apartments`,{method:"POST",body:{apartment_id:T.value.apartment_id,relation_type:T.value.relation_type,start_date:T.value.start_date||null}}),T.value.apartment_id=null,await Ve(),await F()}catch(e){k.value=$(e,"Daire iliskisi eklenemedi."),le.value=me(e)}finally{be.value=!1}}},Tl=async n=>{Y.value=n.id,k.value="";try{await V(`/users/${_.value}/apartments/${n.id}`,{method:"PUT",body:{relation_type:n.relation_type,start_date:n.start_date||null}}),await Ve(),await F()}catch(e){k.value=$(e,"Daire iliskisi guncellenemedi.")}finally{Y.value=null}},Sl=async n=>{q.value=n,k.value="";try{await V(`/users/${_.value}/apartments/${n}`,{method:"DELETE"}),await Ve(),await F()}catch(e){k.value=$(e,"Daire iliskisi kaldirilamadi.")}finally{q.value=null}},Bl=n=>n<1024?`${n} B`:n<1048576?`${(n/1024).toFixed(1)} KB`:`${(n/1048576).toFixed(1)} MB`;return zl(async()=>{await F(),c.value&&(Le(),Fe(),_e())}),(n,e)=>(r(),g(S,null,[t(O,{class:"align-content-start"},{default:a(()=>[t(m,{cols:"12"},{default:a(()=>[i("div",Wl,[i("div",null,[e[43]||(e[43]=i("h4",{class:"text-h4 mb-1"}," Sakin Detay ",-1)),i("p",Zl,u(l(f)?.name??"-"),1)]),i("div",Jl,[t(b,{variant:"outlined",to:"/management/users"},{default:a(()=>[...e[44]||(e[44]=[o(" Listeye Don ",-1)])]),_:1}),t(b,{color:"primary",disabled:!l(Ue),onClick:Qe},{default:a(()=>[...e[45]||(e[45]=[o(" Duzenle ",-1)])]),_:1},8,["disabled"])])])]),_:1}),l(k)?(r(),y(m,{key:0,cols:"12"},{default:a(()=>[t(ll,{type:"error",variant:"tonal",closable:"","onClick:close":e[0]||(e[0]=s=>k.value="")},{default:a(()=>[o(u(l(k)),1)]),_:1})]),_:1})):v("",!0),l(ae)?(r(),y(m,{key:1,cols:"12"},{default:a(()=>[t(ll,{type:"warning",variant:"tonal",closable:"","onClick:close":e[1]||(e[1]=s=>ae.value="")},{default:a(()=>[o(u(l(ae)),1)]),_:1})]),_:1})):v("",!0),t(m,{cols:"12",md:"8"},{default:a(()=>[t(P,{loading:l(Ae),class:"mb-4"},{default:a(()=>[l(f)?(r(),y(A,{key:0},{default:a(()=>[t($e,{class:"card-list"},{default:a(()=>[t(w,null,{append:a(()=>[i("span",Xl,u(l(f).name),1)]),default:a(()=>[t(U,null,{default:a(()=>[...e[46]||(e[46]=[o("Hesap",-1)])]),_:1})]),_:1}),l(f).apartments.length?(r(),y(w,{key:0},{append:a(()=>[i("div",et,[(r(!0),g(S,null,G(l(f).apartments,s=>(r(),y(pe,{key:s.id,size:"small",color:"primary",variant:"tonal"},{default:a(()=>[o(u(s.label),1)]),_:2},1024))),128))])]),default:a(()=>[t(U,null,{default:a(()=>[...e[47]||(e[47]=[o("Daire",-1)])]),_:1})]),_:1})):v("",!0),l(f).phone?(r(),y(w,{key:1},{append:a(()=>[i("div",lt,[i("span",null,u(l(f).phone),1),t(b,{icon:"",size:"x-small",variant:"text",color:"success",href:`https://wa.me/${l(f).phone.replace(/[^0-9]/g,"")}`,target:"_blank"},{default:a(()=>[t(N,{icon:"ri-whatsapp-line"})]),_:1},8,["href"]),t(b,{icon:"",size:"x-small",variant:"text",color:"info",href:`sms:${l(f).phone}`},{default:a(()=>[t(N,{icon:"ri-message-2-line"})]),_:1},8,["href"])])]),default:a(()=>[t(U,null,{default:a(()=>[...e[48]||(e[48]=[o("Telefon",-1)])]),_:1})]),_:1})):v("",!0),l(f).email?(r(),y(w,{key:2},{append:a(()=>[i("span",null,u(l(f).email),1)]),default:a(()=>[t(U,null,{default:a(()=>[...e[49]||(e[49]=[o("E-posta",-1)])]),_:1})]),_:1})):v("",!0),t(w,null,{append:a(()=>[t(pe,{size:"small",variant:"tonal"},{default:a(()=>[o(u(l(f).role_label),1)]),_:1})]),default:a(()=>[t(U,null,{default:a(()=>[...e[50]||(e[50]=[o("Rol",-1)])]),_:1})]),_:1}),l(f).occupation?(r(),y(w,{key:3},{append:a(()=>[i("span",null,u(l(f).occupation),1)]),default:a(()=>[t(U,null,{default:a(()=>[...e[51]||(e[51]=[o("Meslek",-1)])]),_:1})]),_:1})):v("",!0),l(f).education?(r(),y(w,{key:4},{append:a(()=>[i("span",null,u(sl[l(f).education]??l(f).education),1)]),default:a(()=>[t(U,null,{default:a(()=>[...e[52]||(e[52]=[o("Ogrenim",-1)])]),_:1})]),_:1})):v("",!0),l(f).birth_date?(r(),y(w,{key:5},{append:a(()=>[i("span",null,u(l(H)(l(f).birth_date)),1)]),default:a(()=>[t(U,null,{default:a(()=>[...e[53]||(e[53]=[o("Dogum Tarihi",-1)])]),_:1})]),_:1})):v("",!0),l(f).address?(r(),y(w,{key:6},{append:a(()=>[i("span",tt,u(l(f).address),1)]),default:a(()=>[t(U,null,{default:a(()=>[...e[54]||(e[54]=[o("Adres",-1)])]),_:1})]),_:1})):v("",!0),l(f).archived_at?(r(),y(w,{key:7},{append:a(()=>[t(pe,{size:"small",color:"warning",variant:"tonal"},{default:a(()=>[...e[56]||(e[56]=[o(" Arsivli ",-1)])]),_:1})]),default:a(()=>[t(U,null,{default:a(()=>[...e[55]||(e[55]=[o("Durum",-1)])]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1})):v("",!0)]),_:1},8,["loading"]),t(P,null,{default:a(()=>[t(Gl,{modelValue:l(I),"onUpdate:modelValue":e[2]||(e[2]=s=>j(I)?I.value=s:null),class:"v-tabs-pill"},{default:a(()=>[t(fe,{value:"debts"},{default:a(()=>[...e[57]||(e[57]=[o(" Borclari ",-1)])]),_:1}),l(c)?(r(),y(fe,{key:0,value:"notes"},{default:a(()=>[...e[58]||(e[58]=[o(" Notlar ",-1)])]),_:1})):v("",!0),l(c)?(r(),y(fe,{key:1,value:"documents"},{default:a(()=>[...e[59]||(e[59]=[o(" Evraklar ",-1)])]),_:1})):v("",!0),l(c)?(r(),y(fe,{key:2,value:"reminders"},{default:a(()=>[...e[60]||(e[60]=[o(" Hatirlatmalar ",-1)])]),_:1})):v("",!0),l(c)?(r(),y(fe,{key:3,value:"statement",onClick:Ge},{default:a(()=>[...e[61]||(e[61]=[o(" Hesap Ekstresi ",-1)])]),_:1})):v("",!0)]),_:1},8,["modelValue"]),t(ve),ue(i("div",null,[t(ce,{density:"comfortable"},{default:a(()=>[e[63]||(e[63]=i("thead",null,[i("tr",null,[i("th",null,"Donem"),i("th",null,"Son Odeme"),i("th",null,"Aciklama"),i("th",{class:"text-right"}," Tutar "),i("th",{class:"text-right"}," Kalan "),i("th",null,"Durum")])],-1)),i("tbody",null,[(r(!0),g(S,null,G(l(f)?.open_charges??[],s=>(r(),g("tr",{key:s.id},[i("td",null,u(s.period),1),i("td",null,u(l(H)(s.due_date)),1),i("td",null,[i("div",null,u(s.description||"-"),1),s.apartment?(r(),g("div",at,u(s.apartment.label),1)):v("",!0)]),i("td",st,u(l(B)(s.amount)),1),i("td",nt,u(l(B)(s.remaining)),1),i("td",null,[t(pe,{size:"small",color:s.status==="overdue"?"error":s.status==="paid"?"success":"warning",variant:"tonal"},{default:a(()=>[o(u(s.status==="overdue"?"Gecikmis":s.status==="paid"?"Odendi":"Acik"),1)]),_:2},1032,["color"])])]))),128)),(l(f)?.open_charges??[]).length===0?(r(),g("tr",it,[...e[62]||(e[62]=[i("td",{colspan:"6",class:"text-center text-medium-emphasis py-6"}," Odenmemis borcu/alacagi yoktur ",-1)])])):v("",!0)])]),_:1})],512),[[de,l(I)==="debts"]]),l(c)?ue((r(),g("div",ot,[t(A,null,{default:a(()=>[t(O,null,{default:a(()=>[t(m,{cols:"12",md:"10"},{default:a(()=>[t(He,{modelValue:l(M),"onUpdate:modelValue":e[3]||(e[3]=s=>j(M)?M.value=s:null),label:"Not ekleyin...",rows:"2","hide-details":""},null,8,["modelValue"])]),_:1}),t(m,{cols:"12",md:"2",class:"d-flex align-end"},{default:a(()=>[t(b,{color:"primary",block:"",loading:l(Te),disabled:!l(M).trim(),onClick:kl},{default:a(()=>[...e[64]||(e[64]=[o(" Ekle ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1}),t(ve),l(ke).length?(r(),y($e,{key:0},{default:a(()=>[(r(!0),g(S,null,G(l(ke),(s,D)=>(r(),g(S,{key:s.id},[t(w,null,{append:a(()=>[t(b,{icon:"",size:"small",variant:"text",color:"error",onClick:At=>gl(s.id)},{default:a(()=>[t(N,{icon:"ri-delete-bin-line"})]),_:1},8,["onClick"])]),default:a(()=>[t(U,null,{default:a(()=>[o(u(s.content),1)]),_:2},1024),t(jl,null,{default:a(()=>[o(u(s.created_by?.name??"-")+" - "+u(l(H)(s.created_at)),1)]),_:2},1024)]),_:2},1024),D<l(ke).length-1?(r(),y(ve,{key:0})):v("",!0)],64))),128))]),_:1})):(r(),y(A,{key:1,class:"text-center text-medium-emphasis"},{default:a(()=>[...e[65]||(e[65]=[o(" Henuz not eklenmemis. ",-1)])]),_:1}))],512)),[[de,l(I)==="notes"]]):v("",!0),l(c)?ue((r(),g("div",rt,[t(A,null,{default:a(()=>[i("input",{ref_key:"fileInput",ref:Ke,type:"file",class:"d-none",onChange:bl},null,544),t(b,{color:"primary","prepend-icon":"ri-upload-2-line",loading:l(ze),onClick:yl},{default:a(()=>[...e[66]||(e[66]=[o(" Evrak Yukle ",-1)])]),_:1},8,["loading"])]),_:1}),l(Ee).length?(r(),y(ce,{key:0,density:"comfortable"},{default:a(()=>[e[67]||(e[67]=i("thead",null,[i("tr",null,[i("th",null,"Dosya Adi"),i("th",null,"Boyut"),i("th",null,"Yukleyen"),i("th",null,"Tarih"),i("th",{class:"text-right"}," Islem ")])],-1)),i("tbody",null,[(r(!0),g(S,null,G(l(Ee),s=>(r(),g("tr",{key:s.id},[i("td",null,u(s.file_name),1),i("td",null,u(Bl(s.file_size)),1),i("td",null,u(s.uploaded_by?.name??"-"),1),i("td",null,u(l(H)(s.created_at)),1),i("td",ut,[t(b,{icon:"",size:"small",variant:"text",onClick:D=>_l(s.id)},{default:a(()=>[t(N,{icon:"ri-download-line"})]),_:1},8,["onClick"]),t(b,{icon:"",size:"small",variant:"text",color:"error",onClick:D=>Vl(s.id)},{default:a(()=>[t(N,{icon:"ri-delete-bin-line"})]),_:1},8,["onClick"])])]))),128))])]),_:1})):(r(),y(A,{key:1,class:"text-center text-medium-emphasis"},{default:a(()=>[...e[68]||(e[68]=[o(" Henuz evrak yuklenmemis. ",-1)])]),_:1}))],512)),[[de,l(I)==="documents"]]):v("",!0),l(c)?ue((r(),g("div",dt,[t(A,null,{default:a(()=>[t(b,{color:"primary","prepend-icon":"ri-add-line",onClick:e[4]||(e[4]=s=>Z.value=!0)},{default:a(()=>[...e[69]||(e[69]=[o(" Hatirlatma Ekle ",-1)])]),_:1})]),_:1}),l(Ce).length?(r(),y(ce,{key:0,density:"comfortable"},{default:a(()=>[e[70]||(e[70]=i("thead",null,[i("tr",null,[i("th"),i("th",null,"Baslik"),i("th",null,"Tarih"),i("th",null,"Durum"),i("th",{class:"text-right"}," Islem ")])],-1)),i("tbody",null,[(r(!0),g(S,null,G(l(Ce),s=>(r(),g("tr",{key:s.id},[i("td",null,[t(Ql,{"model-value":s.is_completed,"hide-details":"",density:"compact","onUpdate:modelValue":D=>xl(s)},null,8,["model-value","onUpdate:modelValue"])]),i("td",{class:Ze({"text-decoration-line-through text-medium-emphasis":s.is_completed})},[i("div",null,u(s.title),1),s.description?(r(),g("div",mt,u(s.description),1)):v("",!0)],2),i("td",null,u(l(H)(s.due_date)),1),i("td",null,[t(pe,{size:"small",color:s.is_completed?"success":"warning",variant:"tonal"},{default:a(()=>[o(u(s.is_completed?"Tamamlandi":"Bekliyor"),1)]),_:2},1032,["color"])]),i("td",pt,[t(b,{icon:"",size:"small",variant:"text",color:"error",onClick:D=>Dl(s.id)},{default:a(()=>[t(N,{icon:"ri-delete-bin-line"})]),_:1},8,["onClick"])])]))),128))])]),_:1})):(r(),y(A,{key:1,class:"text-center text-medium-emphasis"},{default:a(()=>[...e[71]||(e[71]=[o(" Henuz hatirlatma eklenmemis. ",-1)])]),_:1}))],512)),[[de,l(I)==="reminders"]]):v("",!0),l(c)?ue((r(),g("div",ft,[t(A,null,{default:a(()=>[t(O,null,{default:a(()=>[t(m,{cols:"12",md:"4"},{default:a(()=>[t(x,{modelValue:l(W).from,"onUpdate:modelValue":e[5]||(e[5]=s=>l(W).from=s),type:"date",label:"Baslangic"},null,8,["modelValue"])]),_:1}),t(m,{cols:"12",md:"4"},{default:a(()=>[t(x,{modelValue:l(W).to,"onUpdate:modelValue":e[6]||(e[6]=s=>l(W).to=s),type:"date",label:"Bitis"},null,8,["modelValue"])]),_:1}),t(m,{cols:"12",md:"4",class:"d-flex align-end"},{default:a(()=>[t(b,{color:"primary",block:"",onClick:Ge},{default:a(()=>[...e[72]||(e[72]=[o(" Sorgula ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),l(h)?(r(),g(S,{key:0},[t(A,null,{default:a(()=>[t(O,null,{default:a(()=>[t(m,{cols:"12",md:"4"},{default:a(()=>[e[73]||(e[73]=i("div",{class:"text-caption text-medium-emphasis"}," Acilis Bakiyesi ",-1)),i("div",vt,u(l(B)(l(h).opening_balance)),1)]),_:1}),t(m,{cols:"12",md:"4"},{default:a(()=>[e[74]||(e[74]=i("div",{class:"text-caption text-medium-emphasis"}," Kapanis Bakiyesi ",-1)),i("div",ct,u(l(B)(l(h).closing_balance)),1)]),_:1}),t(m,{cols:"12",md:"4"},{default:a(()=>[e[75]||(e[75]=i("div",{class:"text-caption text-medium-emphasis"}," Donem ",-1)),i("div",kt,u(l(H)(l(h).from))+" - "+u(l(H)(l(h).to)),1)]),_:1})]),_:1})]),_:1}),t(ce,{density:"comfortable"},{default:a(()=>[e[77]||(e[77]=i("thead",null,[i("tr",null,[i("th",null,"Tarih"),i("th",null,"Aciklama"),i("th",{class:"text-right"}," Borc "),i("th",{class:"text-right"}," Alacak "),i("th",{class:"text-right"}," Bakiye ")])],-1)),i("tbody",null,[(r(!0),g(S,null,G(l(h).transactions,(s,D)=>(r(),g("tr",{key:D},[i("td",null,u(l(H)(s.date)),1),i("td",null,u(s.description),1),i("td",gt,u(s.direction==="debit"?l(B)(s.amount):"-"),1),i("td",yt,u(s.direction==="credit"?l(B)(s.amount):"-"),1),i("td",bt,u(l(B)(s.balance)),1)]))),128)),l(h).transactions.length===0?(r(),g("tr",_t,[...e[76]||(e[76]=[i("td",{colspan:"5",class:"text-center text-medium-emphasis py-6"}," Bu donemde hareket bulunamadi. ",-1)])])):v("",!0)])]),_:1})],64)):v("",!0)],512)),[[de,l(I)==="statement"]]):v("",!0)]),_:1})]),_:1}),t(m,{cols:"12",md:"4"},{default:a(()=>[t(P,{class:"mb-4"},{default:a(()=>[t(A,{class:"d-flex align-center justify-space-between"},{default:a(()=>[i("div",null,[e[78]||(e[78]=i("div",{class:"text-overline text-medium-emphasis"}," BAKIYE ",-1)),i("div",{class:Ze(["text-h4",(l(f)?.balance??0)>0?"text-error":"text-success"])},u(l(B)(l(f)?.balance??0)),3)]),t(Fl,{modelValue:l(ye),"onUpdate:modelValue":e[9]||(e[9]=s=>j(ye)?ye.value=s:null),location:"bottom end"},{activator:a(({props:s})=>[t(b,Il({variant:"outlined"},s,{"append-icon":"ri-arrow-down-s-line"}),{default:a(()=>[...e[79]||(e[79]=[o(" Diger ",-1)])]),_:1},16)]),default:a(()=>[t($e,{density:"compact"},{default:a(()=>[l(c)?(r(),g(S,{key:0},[t(w,{onClick:e[7]||(e[7]=s=>J.value=!0)},{default:a(()=>[...e[80]||(e[80]=[o(" Acilis Bakiyesi Ekle ",-1)])]),_:1}),t(w,{onClick:e[8]||(e[8]=s=>X.value=!0)},{default:a(()=>[...e[81]||(e[81]=[o(" Borc Aktarma ",-1)])]),_:1}),t(ve)],64)):v("",!0),t(w,{disabled:!l(Ue),onClick:Qe},{default:a(()=>[...e[82]||(e[82]=[o(" Duzenle ",-1)])]),_:1},8,["disabled"]),l(c)?(r(),y(w,{key:1,loading:l(Oe),onClick:Ul},{default:a(()=>[o(u(l(f)?.archived_at?"Arsivden Cikar":"Arsivle"),1)]),_:1},8,["loading"])):v("",!0)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(f)?(r(),y(P,{key:0},{default:a(()=>[t(ql,{title:"Ozet"}),t(A,null,{default:a(()=>[t($e,{class:"card-list",density:"compact"},{default:a(()=>[t(w,null,{append:a(()=>[i("span",null,u(l(B)(l(f).total_charged)),1)]),default:a(()=>[t(U,null,{default:a(()=>[...e[83]||(e[83]=[o("Toplam Borc",-1)])]),_:1})]),_:1}),t(w,null,{append:a(()=>[i("span",Vt,u(l(B)(l(f).total_paid)),1)]),default:a(()=>[t(U,null,{default:a(()=>[...e[84]||(e[84]=[o("Toplam Odenen",-1)])]),_:1})]),_:1}),t(w,null,{append:a(()=>[i("span",wt,u(l(B)(l(f).balance)),1)]),default:a(()=>[t(U,null,{default:a(()=>[...e[85]||(e[85]=[o("Acik Borc",-1)])]),_:1})]),_:1}),t(w,null,{append:a(()=>[i("span",null,u(l(f).apartment_count),1)]),default:a(()=>[t(U,null,{default:a(()=>[...e[86]||(e[86]=[o("Daire Sayisi",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})):v("",!0)]),_:1})]),_:1}),t(xe,{modelValue:l(ee),"onUpdate:modelValue":e[25]||(e[25]=s=>j(ee)?ee.value=s:null),"max-width":"1100"},{default:a(()=>[t(P,{loading:l(ie),title:"Kullanici Duzenle"},{default:a(()=>[t(A,null,{default:a(()=>[t(Xe,{ref_key:"editFormRef",ref:qe,onSubmit:Je(We,["prevent"])},{default:a(()=>[t(O,null,{default:a(()=>[t(m,{cols:"12",md:"6"},{default:a(()=>[t(x,{modelValue:l(p).name,"onUpdate:modelValue":e[10]||(e[10]=s=>l(p).name=s),label:"Ad Soyad",rules:il,"error-messages":l(E).name??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:a(()=>[t(x,{modelValue:l(p).email,"onUpdate:modelValue":e[11]||(e[11]=s=>l(p).email=s),type:"email",label:"E-posta",rules:ol,"error-messages":l(E).email??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:a(()=>[t(x,{modelValue:l(p).phone,"onUpdate:modelValue":e[12]||(e[12]=s=>l(p).phone=s),label:"Telefon","error-messages":l(E).phone??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"6"},{default:a(()=>[t(x,{modelValue:l(p).tc_kimlik,"onUpdate:modelValue":e[13]||(e[13]=s=>l(p).tc_kimlik=s),label:"TC Kimlik",maxlength:"11",rules:rl,"error-messages":l(E).tc_kimlik??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12"},{default:a(()=>[t(He,{modelValue:l(p).address,"onUpdate:modelValue":e[14]||(e[14]=s=>l(p).address=s),label:"Adres",rows:"2","error-messages":l(E).address??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"4"},{default:a(()=>[t(x,{modelValue:l(p).birth_date,"onUpdate:modelValue":e[15]||(e[15]=s=>l(p).birth_date=s),type:"date",label:"Dogum Tarihi","error-messages":l(E).birth_date??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"4"},{default:a(()=>[t(x,{modelValue:l(p).occupation,"onUpdate:modelValue":e[16]||(e[16]=s=>l(p).occupation=s),label:"Meslek","error-messages":l(E).occupation??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"4"},{default:a(()=>[t(K,{modelValue:l(p).education,"onUpdate:modelValue":e[17]||(e[17]=s=>l(p).education=s),items:nl,"item-title":"label","item-value":"value",label:"Ogrenim Durumu","error-messages":l(E).education??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"4"},{default:a(()=>[t(x,{modelValue:l(p).password,"onUpdate:modelValue":e[18]||(e[18]=s=>l(p).password=s),type:"password",label:"Yeni Sifre",rules:ul,"error-messages":l(E).password??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"4"},{default:a(()=>[t(x,{modelValue:l(p).password_confirmation,"onUpdate:modelValue":e[19]||(e[19]=s=>l(p).password_confirmation=s),type:"password",label:"Sifre Tekrar",rules:dl,"error-messages":l(E).password_confirmation??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12",md:"4"},{default:a(()=>[t(K,{modelValue:l(p).role,"onUpdate:modelValue":e[20]||(e[20]=s=>l(p).role=s),items:l(Me),"item-title":"label","item-value":"value",label:"Rol",rules:ml,"error-messages":l(E).role??[]},null,8,["modelValue","items","error-messages"])]),_:1})]),_:1})]),_:1},512),t(ve,{class:"my-4"}),e[90]||(e[90]=i("div",{class:"text-subtitle-1 font-weight-medium mb-3"}," Bagli Daireler ",-1)),t(Xe,{ref_key:"editApartmentFormRef",ref:je,onSubmit:Je(Cl,["prevent"])},{default:a(()=>[t(O,null,{default:a(()=>[t(m,{cols:"12",md:"5"},{default:a(()=>[t(K,{modelValue:l(T).apartment_id,"onUpdate:modelValue":e[21]||(e[21]=s=>l(T).apartment_id=s),items:l(Ye),"item-title":"label","item-value":"id",label:n.$t("common.apartment"),rules:pl,"error-messages":l(le).apartment_id??[]},null,8,["modelValue","items","label","error-messages"])]),_:1}),t(m,{cols:"12",md:"3"},{default:a(()=>[t(K,{modelValue:l(T).relation_type,"onUpdate:modelValue":e[22]||(e[22]=s=>l(T).relation_type=s),items:l(re),"item-title":"label","item-value":"value",label:n.$t("common.type"),rules:fl,"error-messages":l(le).relation_type??[]},null,8,["modelValue","items","label","error-messages"])]),_:1}),t(m,{cols:"12",md:"2"},{default:a(()=>[t(x,{modelValue:l(T).start_date,"onUpdate:modelValue":e[23]||(e[23]=s=>l(T).start_date=s),type:"date",label:n.$t("common.startDate"),"error-messages":l(le).start_date??[]},null,8,["modelValue","label","error-messages"])]),_:1}),t(m,{cols:"12",md:"2",class:"d-flex align-end"},{default:a(()=>[t(b,{color:"primary",block:"",type:"submit",loading:l(be),disabled:l(be)},{default:a(()=>[...e[87]||(e[87]=[o(" Ekle ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},512),t(ce,{density:"comfortable"},{default:a(()=>[i("thead",null,[i("tr",null,[i("th",null,u(n.$t("common.apartment")),1),i("th",null,u(n.$t("common.type")),1),i("th",null,u(n.$t("common.startDate")),1),e[88]||(e[88]=i("th",{class:"text-right"}," Islem ",-1))])]),i("tbody",null,[(r(!0),g(S,null,G(l(he),s=>(r(),g("tr",{key:s.id},[i("td",null,u(s.label),1),i("td",null,[t(K,{modelValue:s.relation_type,"onUpdate:modelValue":D=>s.relation_type=D,items:l(re),"item-title":"label","item-value":"value",density:"compact","hide-details":"",disabled:l(Y)===s.id||l(q)===s.id},null,8,["modelValue","onUpdate:modelValue","items","disabled"])]),i("td",null,[t(x,{modelValue:s.start_date,"onUpdate:modelValue":D=>s.start_date=D,type:"date",density:"compact","hide-details":"",disabled:l(Y)===s.id||l(q)===s.id},null,8,["modelValue","onUpdate:modelValue","disabled"])]),i("td",xt,[t(b,{icon:"",size:"small",variant:"text",color:"primary",loading:l(Y)===s.id,disabled:l(Y)===s.id||l(q)===s.id,onClick:D=>Tl(s)},{default:a(()=>[t(N,{icon:"ri-save-line"})]),_:1},8,["loading","disabled","onClick"]),t(b,{icon:"",size:"small",variant:"text",color:"error",loading:l(q)===s.id,disabled:l(q)===s.id||l(Y)===s.id,onClick:D=>Sl(s.id)},{default:a(()=>[t(N,{icon:"ri-close-line"})]),_:1},8,["loading","disabled","onClick"])])]))),128)),l(he).length===0?(r(),g("tr",Dt,[...e[89]||(e[89]=[i("td",{colspan:"4",class:"text-center text-medium-emphasis py-6"}," Bagli daire yok. ",-1)])])):v("",!0)])]),_:1})]),_:1}),t(De,{class:"px-6 pb-4"},{default:a(()=>[t(we),t(b,{variant:"outlined",disabled:l(oe)||l(ie),onClick:e[24]||(e[24]=s=>ee.value=!1)},{default:a(()=>[...e[91]||(e[91]=[o(" Iptal ",-1)])]),_:1},8,["disabled"]),t(b,{color:"primary",loading:l(oe),disabled:l(oe)||l(ie),onClick:We},{default:a(()=>[...e[92]||(e[92]=[o(" Kaydet ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1},8,["loading"])]),_:1},8,["modelValue"]),t(xe,{modelValue:l(Z),"onUpdate:modelValue":e[30]||(e[30]=s=>j(Z)?Z.value=s:null),"max-width":"500"},{default:a(()=>[t(P,{title:"Hatirlatma Ekle"},{default:a(()=>[t(A,null,{default:a(()=>[t(O,null,{default:a(()=>[t(m,{cols:"12"},{default:a(()=>[t(x,{modelValue:l(L).title,"onUpdate:modelValue":e[26]||(e[26]=s=>l(L).title=s),label:"Baslik",rules:[l(C)()],"error-messages":l(ge).title??[]},null,8,["modelValue","rules","error-messages"])]),_:1}),t(m,{cols:"12"},{default:a(()=>[t(He,{modelValue:l(L).description,"onUpdate:modelValue":e[27]||(e[27]=s=>l(L).description=s),label:"Aciklama",rows:"2"},null,8,["modelValue"])]),_:1}),t(m,{cols:"12"},{default:a(()=>[t(x,{modelValue:l(L).due_date,"onUpdate:modelValue":e[28]||(e[28]=s=>l(L).due_date=s),type:"date",label:"Tarih",rules:[l(C)()],"error-messages":l(ge).due_date??[]},null,8,["modelValue","rules","error-messages"])]),_:1})]),_:1})]),_:1}),t(De,{class:"px-6 pb-4"},{default:a(()=>[t(we),t(b,{variant:"outlined",onClick:e[29]||(e[29]=s=>Z.value=!1)},{default:a(()=>[...e[93]||(e[93]=[o(" Iptal ",-1)])]),_:1}),t(b,{color:"primary",loading:l(Se),onClick:wl},{default:a(()=>[...e[94]||(e[94]=[o(" Ekle ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(xe,{modelValue:l(J),"onUpdate:modelValue":e[36]||(e[36]=s=>j(J)?J.value=s:null),"max-width":"500"},{default:a(()=>[t(P,{title:"Acilis Bakiyesi Ekle"},{default:a(()=>[t(A,null,{default:a(()=>[t(O,null,{default:a(()=>[t(m,{cols:"12"},{default:a(()=>[t(K,{modelValue:l(R).apartment_id,"onUpdate:modelValue":e[31]||(e[31]=s=>l(R).apartment_id=s),items:l(Ie),"item-title":"label","item-value":"id",label:"Daire",rules:[l(C)()],"error-messages":l(se).apartment_id??[]},null,8,["modelValue","items","rules","error-messages"])]),_:1}),t(m,{cols:"12"},{default:a(()=>[t(x,{modelValue:l(R).amount,"onUpdate:modelValue":e[32]||(e[32]=s=>l(R).amount=s),type:"number",step:"0.01",label:"Tutar",rules:[l(C)(),l(el)()],"error-messages":l(se).amount??[]},null,8,["modelValue","rules","error-messages"])]),_:1}),t(m,{cols:"12"},{default:a(()=>[t(x,{modelValue:l(R).due_date,"onUpdate:modelValue":e[33]||(e[33]=s=>l(R).due_date=s),type:"date",label:"Tarih","error-messages":l(se).due_date??[]},null,8,["modelValue","error-messages"])]),_:1}),t(m,{cols:"12"},{default:a(()=>[t(x,{modelValue:l(R).description,"onUpdate:modelValue":e[34]||(e[34]=s=>l(R).description=s),label:"Aciklama"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(De,{class:"px-6 pb-4"},{default:a(()=>[t(we),t(b,{variant:"outlined",onClick:e[35]||(e[35]=s=>J.value=!1)},{default:a(()=>[...e[95]||(e[95]=[o(" Iptal ",-1)])]),_:1}),t(b,{color:"primary",loading:l(Be),onClick:$l},{default:a(()=>[...e[96]||(e[96]=[o(" Ekle ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(xe,{modelValue:l(X),"onUpdate:modelValue":e[42]||(e[42]=s=>j(X)?X.value=s:null),"max-width":"500"},{default:a(()=>[t(P,{title:"Borc Aktarma"},{default:a(()=>[t(A,null,{default:a(()=>[t(O,null,{default:a(()=>[t(m,{cols:"12"},{default:a(()=>[t(K,{modelValue:l(z).source_apartment_id,"onUpdate:modelValue":e[37]||(e[37]=s=>l(z).source_apartment_id=s),items:l(Ie),"item-title":"label","item-value":"id",label:"Kaynak Daire",rules:[l(C)()],"error-messages":l(ne).source_apartment_id??[]},null,8,["modelValue","items","rules","error-messages"])]),_:1}),t(m,{cols:"12"},{default:a(()=>[t(K,{modelValue:l(z).target_apartment_id,"onUpdate:modelValue":e[38]||(e[38]=s=>l(z).target_apartment_id=s),items:l(Ie),"item-title":"label","item-value":"id",label:"Hedef Daire",rules:[l(C)()],"error-messages":l(ne).target_apartment_id??[]},null,8,["modelValue","items","rules","error-messages"])]),_:1}),t(m,{cols:"12"},{default:a(()=>[t(x,{modelValue:l(z).amount,"onUpdate:modelValue":e[39]||(e[39]=s=>l(z).amount=s),type:"number",step:"0.01",label:"Tutar",rules:[l(C)(),l(el)()],"error-messages":l(ne).amount??[]},null,8,["modelValue","rules","error-messages"])]),_:1}),t(m,{cols:"12"},{default:a(()=>[t(x,{modelValue:l(z).description,"onUpdate:modelValue":e[40]||(e[40]=s=>l(z).description=s),label:"Aciklama"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(De,{class:"px-6 pb-4"},{default:a(()=>[t(we),t(b,{variant:"outlined",onClick:e[41]||(e[41]=s=>X.value=!1)},{default:a(()=>[...e[97]||(e[97]=[o(" Iptal ",-1)])]),_:1}),t(b,{color:"primary",loading:l(Re),onClick:Al},{default:a(()=>[...e[98]||(e[98]=[o(" Aktar ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}});export{Wt as default};
