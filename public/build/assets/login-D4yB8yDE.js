import{h as m,J as z,q as a,v as I,j as N,ac as U,Z as q,D as G,Q as L,V as Z,y as r,u as t,O as C,S as o,a8 as R,ag as J,R as W,ad as Y,F as K}from"./vendor-DfCbaU-T.js";import{u as P}from"./useGenerateImageVariant-HR7f9Ya8.js";import{W as $,X as S,Y as H,Z as O,e as Q,t as B,w as X,x as ee,a0 as te,U as ae,T as se}from"./main-OjHNd2U9.js";import{V as oe,r as A}from"./VForm-CtC6ldpE.js";import{V as le}from"./VNodeRenderer-Del3drp5.js";import{a as V,V as F}from"./VRow-Ba58lXtG.js";import{V as re}from"./VCard-9RfFlHpT.js";import{V as E}from"./VCardText-YweTyZzP.js";import{V as ie}from"./VAlert-DafHPFjN.js";import{V as M}from"./VTextField-CMxHKe9w.js";import{V as D,m as ne}from"./VCheckboxBtn-B6JwM7Rr.js";import{f as ue,l as de,u as me,ap as ce,p as pe,N as fe}from"./vuetify-BWJcAN87.js";import"./VAvatar-BcaC_ZEa.js";import"./VSelectionControl-Ck2LTPqY.js";const ge=pe({...O(),...fe(ne(),["inline"])},"VCheckbox"),Ve=ue()({name:"VCheckbox",inheritAttrs:!1,props:ge(),emits:{"update:modelValue":l=>!0,"update:focused":l=>!0},setup(l,v){let{attrs:h,slots:c}=v;const s=de(l,"modelValue"),{isFocused:b,focus:k,blur:y}=$(l),n=m(),p=z();return me(()=>{const[u,f]=ce(h),x=S.filterProps(l),w=D.filterProps(l);return a(S,I({ref:n,class:["v-checkbox",l.class]},u,x,{modelValue:s.value,"onUpdate:modelValue":g=>s.value=g,id:l.id||`checkbox-${p}`,focused:b.value,style:l.style}),{...c,default:g=>{let{id:_,messagesId:d,isDisabled:e,isReadonly:i,isValid:T}=g;return a(D,I(w,{id:_.value,"aria-describedby":d.value,disabled:e.value,readonly:i.value},f,{error:T.value===!1,modelValue:s.value,"onUpdate:modelValue":j=>s.value=j,onFocus:k,onBlur:y}),c)}})}),H({},n)}}),ve="/build/assets/auth-v2-login-illustration-bordered-dark-BJCJv2pR.png",he="/build/assets/auth-v2-login-illustration-bordered-light-SWhpvsnK.png",be="/build/assets/auth-v2-login-illustration-dark-CkFVS8nV.png",ke="/build/assets/auth-v2-login-illustration-light-C3P37pvv.png",ye="/build/assets/auth-v2-login-mask-dark-CmZEWRGb.png",xe="/build/assets/auth-v2-login-mask-light-B5zETsZk.png",we={href:"javascript:void(0)"},_e={class:"app-logo auth-logo"},Ce={class:"app-logo-title"},Re={class:"d-flex align-center justify-center pa-10"},Be=["src"],Ie={class:"text-h4 mb-1"},Le={class:"text-capitalize"},Pe={class:"d-flex align-center justify-space-between flex-wrap my-6 gap-x-2"},Je=N({__name:"login",setup(l){const v=U(),h=q(),c=Q(),s=m({identity:"",password:"",remember:!1}),b=m(null),k=[A()],y=[A()],n=m(!1),p=m(!1),u=m(""),f=m({}),x=P(xe,ye),w=P(ke,be,he,ve,!0),g=d=>{if(te(d)===429){u.value="Cok fazla giris denemesi. Lutfen bir dakika bekleyin.";return}const e=ae(d);f.value=e,u.value=e.identity?.[0]??se(d,"Giris yapilirken bir hata olustu.")},_=async()=>{if((await b.value?.validate())?.valid){u.value="",f.value={},p.value=!0;try{await c.login(s.value.identity,s.value.password,s.value.remember);const e=typeof h.query.redirect=="string"?h.query.redirect:"/";await v.replace(e)}catch(e){g(e)}finally{p.value=!1}}};return G(async()=>{await c.ensureSession(),c.isAuthenticated.value&&await v.replace("/")}),(d,e)=>(L(),Z(K,null,[r("a",we,[r("div",_e,[a(t(le),{nodes:t(B).app.logo},null,8,["nodes"]),r("h1",Ce,C(t(B).app.title),1)])]),a(F,{"no-gutters":"",class:"auth-wrapper"},{default:o(()=>[a(V,{md:"8",class:"d-none d-md-flex align-center justify-center position-relative"},{default:o(()=>[r("div",Re,[r("img",{src:t(w),class:"auth-illustration w-100",alt:"auth-illustration"},null,8,Be)]),a(X,{src:t(x),class:"d-none d-md-flex auth-footer-mask",alt:"auth-mask"},null,8,["src"])]),_:1}),a(V,{cols:"12",md:"4",class:"auth-card-v2 d-flex align-center justify-center",style:{"background-color":"rgb(var(--v-theme-surface))"}},{default:o(()=>[a(re,{flat:"","max-width":500,class:"mt-12 mt-sm-0 pa-5 pa-lg-7"},{default:o(()=>[a(E,null,{default:o(()=>[r("h4",Ie,[e[4]||(e[4]=R(" Hos geldiniz, ",-1)),r("span",Le,C(t(B).app.title),1)]),e[5]||(e[5]=r("p",{class:"mb-0"}," Devam etmek icin hesabiniza giris yapin. ",-1))]),_:1}),a(E,null,{default:o(()=>[a(oe,{ref_key:"formRef",ref:b,onSubmit:J(_,["prevent"])},{default:o(()=>[a(F,null,{default:o(()=>[t(u)?(L(),W(V,{key:0,cols:"12"},{default:o(()=>[a(ie,{type:"error",variant:"tonal"},{default:o(()=>[R(C(t(u)),1)]),_:1})]),_:1})):Y("",!0),a(V,{cols:"12"},{default:o(()=>[a(M,{modelValue:t(s).identity,"onUpdate:modelValue":e[0]||(e[0]=i=>t(s).identity=i),autofocus:"",label:"E-posta / T.C. Kimlik / Telefon",placeholder:"ornek@site.com veya 0555...",rules:k,"error-messages":t(f).identity??[]},null,8,["modelValue","error-messages"])]),_:1}),a(V,{cols:"12"},{default:o(()=>[a(M,{modelValue:t(s).password,"onUpdate:modelValue":e[1]||(e[1]=i=>t(s).password=i),label:"Sifre",placeholder:"********",type:t(n)?"text":"password",autocomplete:"current-password",rules:y,"error-messages":t(f).password??[],"append-inner-icon":t(n)?"ri-eye-off-line":"ri-eye-line","onClick:appendInner":e[2]||(e[2]=i=>n.value=!t(n))},null,8,["modelValue","type","error-messages","append-inner-icon"]),r("div",Pe,[a(Ve,{modelValue:t(s).remember,"onUpdate:modelValue":e[3]||(e[3]=i=>t(s).remember=i),label:"Beni hatirla"},null,8,["modelValue"]),e[6]||(e[6]=r("span",{class:"text-caption text-medium-emphasis"},"Yetkisiz erisimler kayit altina alinir.",-1))]),a(ee,{block:"",type:"submit",loading:t(p),disabled:t(p)},{default:o(()=>[...e[7]||(e[7]=[R(" Giris Yap ",-1)])]),_:1},8,["loading","disabled"])]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})],64))}});export{Je as default};
